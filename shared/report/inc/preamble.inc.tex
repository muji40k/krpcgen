\documentclass[14pt, a4paper]{extarticle}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}

% Times
\usepackage{mathptmx}
\usepackage{tempora}

\ifdefined\DEBUG
    \usepackage[left=3cm, right=1.5cm, top=2cm, bottom=2cm, showframe]{geometry}
    \usepackage[demo]{graphicx}
\else
    \usepackage[left=3cm, right=1.5cm, top=2cm, bottom=2cm]{geometry}
\fi

\usepackage{indentfirst} % Красная строка после section
\usepackage{fancyhdr}    % Heders

\usepackage{setspace}
\onehalfspacing
\setlength\parindent{1.25cm}
\usepackage[letterspace=150]{microtype} % spacing between letters \lsstyle

\usepackage{ragged2e}

\usepackage{titling}
\usepackage{graphics}
\usepackage{graphicx}

\usepackage{tabularx}
\usepackage{threeparttable}
\usepackage{multirow}
\usepackage{siunitx}
\usepackage{longtable}

\usepackage{array}
\newcommand{\PreserveBackslash}[1]{\let\temp=\\#1\let\\=\temp}
\newcolumntype{C}[1]{>{\PreserveBackslash\centering}p{#1}}
\newcolumntype{R}[1]{>{\PreserveBackslash\raggedleft}p{#1}}
\newcolumntype{L}[1]{>{\PreserveBackslash\raggedright}p{#1}}

\usepackage[normalem]{ulem}

% Listings
\usepackage{listings}
\usepackage{xcolor}

\lstdefinestyle{plain_listing}{
    backgroundcolor=\color{white},
    commentstyle=\color{gray},
    keywordstyle=\color{black},
    numberstyle=\small,
    stringstyle=\color{black},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=true,
    breaklines=true,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    captionpos=t,
    xleftmargin=17pt,
    extendedchars=\true
}

\lstset{style=plain_listing}

% Caption
\usepackage{caption}
\captionsetup[figure]{name={Рисунок}, labelsep=endash, justification=centering}
\captionsetup[lstlisting]{labelsep=endash, justification=raggedright,
                          singlelinecheck=off}
\captionsetup[table]{labelsep=endash, justification=raggedright,
                     singlelinecheck=off}
\addto{\captionsrussian}{\renewcommand{\refname}{Список использованных источников}}
\addto{\captionsrussian}{\renewcommand{\contentsname}{Содержание}}

% Counters
\usepackage{chngcntr}
\counterwithin{figure}{section}
\counterwithin{equation}{section}
\counterwithin{table}{section}

\usepackage[figure,table]{totalcount}
\usepackage{lastpage}

% Maths
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}

% Title styles
\usepackage{titlesec}

\titleformat{\section}[block]
{\Large\bfseries\centering}
{\thesection}
{0.5em}
{}

\makeatletter
\newcommand\leftsection
{
    \@startsection{section}
                  {1}
                  {\parindent}
                  {2\baselineskip}
                  {2\baselineskip}
                  {\normalfont\Large\bfseries}
}
\makeatother

\titleformat{\subsection}[block]
{\large\bfseries}
{\thesubsection}
{0.5em}
{}

\titlespacing{\section}{\parindent}{2\baselineskip}{2\baselineskip}
\titlespacing{\subsection}{\parindent}{2\baselineskip}{2\baselineskip}
\titlespacing{\subsubsection}{\parindent}{2\baselineskip}{2\baselineskip}

% List styles
\usepackage{enumitem}
% \setlist{topsep=0pt, itemsep=0pt, leftmargin=\parindent}
\setlist{topsep=0pt, itemsep=0pt, wide=\parindent}
\renewcommand\labelitemi{---}
\renewcommand\labelenumi{\arabic{enumi})}

% References
\usepackage{hyperref}

\hypersetup{
    colorlinks=true,
    linkcolor=black,
    anchorcolor=black,
    citecolor=black,
    filecolor=black,
    urlcolor=black
}

\urlstyle{same}

% Bibliographi
\makeatletter 
\renewcommand\@biblabel[1]{#1}
\makeatother

% \usepackage[backend=biber, style=alphabetic, sorting=ynt]{biblatex}
% \usepackage{bibtex}
% \addbibresource{biblio.bib}

% Plots
\usepackage{pgfplots}

% Include pdf
\usepackage{pdfpages}

% Macro
\newcommand{\refeq}[1]{(\ref{#1})}
% \newcommand{\code}[1]{\texttt{#1}}
\newcommand{\code}{\lstinline[basicstyle=\normalsize\ttfamily]}
\newcommand{\refrange}[2]{\ref{#1}--\ref{#2}}
\newcommand{\ToDO}[1]{\colorbox{yellow}{\Large\textbf{\code{ToDO:} #1}}}

\usepackage{rotating}

\usepackage{pgfplots}
\pgfplotsset{compat=newest}

% Include csv
\usepackage{csvsimple}

% Table number alignment
\usepackage{siunitx}

